qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M -smp 1 -nographic -global virtio-mmio.force-legacy=false -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0
Using Policy: MQSS

xv6 kernel is booting

init: starting sh
$ tfkcpu
20|active|0(100),[1]init:2(10),[3]tfkcpu:2(10),[4]tfkcpu:4(10),[5]tfkcpu:3(10),[6]tfkcpu:3(10),[7]tfkcpu:3(10)
20|active|1(100)
20|active|2(100)
20|active|3(100)
20|active|4(100)
20|expired|0(100),[2]sh:2(10)
20|expired|1(100)
20|expired|2(100)
20|expired|3(100)
20|expired|4(100)
20|active|0(100),[1]init:2(10),[5]tfkcpu:4(10),[6]tfkcpu:3(10),[7]tfkcpu:3(10),[3]tfkcpu:3(10)
20|active|1(100)
20|active|2(100)
20|active|3(100)
20|active|4(100)
20|expired|0(100),[2]sh:2(10)
20|expired|1(100)
20|expired|2(100)
20|expired|3(100)
20|expired|4(100)
20|active|0(100),[1]init:2(10),[6]tfkcpu:4(10),[7]tfkcpu:3(10),[3]tfkcpu:3(10)
20|active|1(100)
20|active|2(100)
20|active|3(100)
20|active|4(100)
20|expired|0(100),[2]sh:2(10)
20|expired|1(100)
20|expired|2(100)
20|expired|3(100)
20|expired|4(100)
20|active|0(100),[1]init:2(10),[7]tfkcpu:4(10),[3]tfkcpu:3(10)
20|active|1(100)
20|active|2(100)
20|active|3(100)
20|active|4(100)
20|expired|0(100),[2]sh:2(10)
20|expired|1(100)
20|expired|2(100)
20|expired|3(100)
20|expired|4(100)
20|active|0(100),[1]init:2(10),[3]tfkcpu:4(10)
20|active|1(100)
20|active|2(100)
20|active|3(100)
20|active|4(100)
20|expired|0(100),[2]sh:2(10)
20|expired|1(100)
20|expired|2(100)
20|expired|3(100)
20|expired|4(100)
20|active|0(100),[1]init:2(10),[2]sh:4(10)
20|active|1(100)
20|active|2(100)
20|active|3(100)
20|active|4(100)
20|expired|0(100)
20|expired|1(100)
20|expired|2(100)
20|expired|3(100)
20|expired|4(100)
$ shutdown
23|active|0(100),[1]init:2(10),[2]sh:4(10)
23|active|1(100)
23|active|2(100)
23|active|3(100)
23|active|4(100)
23|expired|0(100)
23|expired|1(100)
23|expired|2(100)
23|expired|3(100)
23|expired|4(100)
23|active|0(100),[1]init:2(10),[2]sh:2(10),[8]sh:4(10)
23|active|1(100)
23|active|2(100)
23|active|3(100)
23|active|4(100)
23|expired|0(100)
23|expired|1(100)
23|expired|2(100)
23|expired|3(100)
23|expired|4(100)
23|active|0(100),[8]sh:4(10)
23|active|1(100)
23|active|2(100)
23|active|3(100)
23|active|4(100)
23|expired|0(100),[1]init:2(10),[2]sh:2(10)
23|expired|1(100)
23|expired|2(100)
23|expired|3(100)
23|expired|4(100)
24|active|0(100),[1]init:2(10),[2]sh:2(10),[8]sh:4(10)
24|active|1(100)
24|active|2(100)
24|active|3(100)
24|active|4(100)
24|expired|0(100)
24|expired|1(100)
24|expired|2(100)
24|expired|3(100)
24|expired|4(100)
24|active|0(100),[8]sh:4(10)
24|active|1(100)
24|active|2(100)
24|active|3(100)
24|active|4(100)
24|expired|0(100),[1]init:2(10),[2]sh:2(10)
24|expired|1(100)
24|expired|2(100)
24|expired|3(100)
24|expired|4(100)
24|active|0(100),[1]init:2(10),[2]sh:2(10),[8]sh:4(10)
24|active|1(100)
24|active|2(100)
24|active|3(100)
24|active|4(100)
24|expired|0(100)
24|expired|1(100)
24|expired|2(100)
24|expired|3(100)
24|expired|4(100)
