qemu-system-riscv64 -machine virt -bios none -kernel kernel/kernel -m 128M -smp 1 -nographic -global virtio-mmio.force-legacy=false -drive file=fs.img,if=none,format=raw,id=x0 -device virtio-blk-device,drive=x0,bus=virtio-mmio-bus.0
Using Policy: RR

xv6 kernel is booting

init: starting sh
$ tfkcpu
21|active|0(0),[1]init:2(10),[2]sh:2(10),[3]tfkcpu:2(10),[4]tfkcpu:4(10),[5]tfkcpu:3(10),[6]tfkcpu:3(10),[7]tfkcpu:3(10)
21|active|0(0),[1]init:2(10),[2]sh:2(10),[5]tfkcpu:4(10),[6]tfkcpu:3(10),[7]tfkcpu:3(10),[3]tfkcpu:3(10)
21|active|0(0),[1]init:2(10),[2]sh:2(10),[6]tfkcpu:4(10),[7]tfkcpu:3(10),[3]tfkcpu:3(10)
21|active|0(0),[1]init:2(10),[2]sh:2(10),[7]tfkcpu:4(10),[3]tfkcpu:3(10)
21|active|0(0),[1]init:2(10),[2]sh:2(10),[3]tfkcpu:4(10)
21|active|0(0),[1]init:2(10),[2]sh:4(10)
$ shutdown
23|active|0(0),[1]init:2(10),[2]sh:4(10)
23|active|0(0),[1]init:2(10),[2]sh:2(10),[8]sh:4(10)
23|active|0(0),[1]init:2(10),[2]sh:2(10),[8]sh:4(10)
23|active|0(0),[1]init:2(10),[2]sh:2(10),[8]sh:4(10)
23|active|0(0),[1]init:2(10),[2]sh:2(10),[8]sh:4(10)
23|active|0(0),[1]init:2(10),[2]sh:2(10),[8]sh:4(10)
